In this refactored version, the script includes two new functions: `setUpInterface()` and `blockMalwareTraffic()`. These functions encapsulate the common logic used to set up an interface and to block malicious traffic, respectively. By doing so, redundancy is removed, enhancing both readability and maintainability.